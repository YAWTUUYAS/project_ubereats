{% extends "base.html" %}
{% block title %}Menu â€” {{ restaurant.nom }}{% endblock %}
{% block content %}
<div class="page-header">
  <h2>ğŸ½ï¸ {{ restaurant.nom }}</h2>
  <div class="restaurant-info">
    <span class="zone-badge">ğŸ“ Zone : {{ restaurant.zone }}</span>
  </div>
</div>

<div class="menu-section">
  <h3>ğŸ“‹ Menu</h3>
  
  {% for p in menu %}
    <div class="menu-item">
      <div class="menu-item-info">
        <h4>{{ p.nom }}</h4>
        <p class="menu-price">{{ "%.2f"|format(p.prix) }} â‚¬</p>
      </div>
      <div class="menu-item-actions">
        <form method="post" action="{{ url_for('client_add_line') }}">
          <input type="hidden" name="id_plat" value="{{ p.id_plat }}">
          <input type="hidden" name="nom" value="{{ p.nom }}">
          <input type="hidden" name="pu" value="{{ p.prix }}">
          <input type="hidden" name="id_restaurant" value="{{ restaurant.id_restaurant or restaurant.id }}">

          <input type="hidden" name="restaurant_name" value="{{ restaurant.nom }}">
          <div class="quantity-selector">
            <input type="number" name="qty" value="1" min="1" max="10" class="quantity-input">
            <button type="submit" class="btn btn-primary">â• Ajouter</button>
          </div>
        </form>
      </div>
    </div>
  {% else %}
    <div class="empty-state">
      <h3>ğŸ˜” Aucun plat disponible</h3>
      <p class="muted">Ce restaurant n'a pas encore de menu</p>
    </div>
  {% endfor %}
</div>

<div class="cart-link">
  <a href="{{ url_for('client_cart') }}" class="btn btn-outline-primary">
    ğŸ›’ Voir le panier
  </a>
</div>
{% endblock %}
